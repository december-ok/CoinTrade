(this.webpackJsonpcointrade=this.webpackJsonpcointrade||[]).push([[0],{153:function(e,t,c){},463:function(e,t,c){},468:function(e,t,c){},469:function(e,t,c){},470:function(e,t,c){},471:function(e,t,c){},472:function(e,t,c){},474:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(2),r=c.n(n),s=c(24),i=c.n(s),o=(c(153),c(36)),l=c(4);c(88);function j(e,t){switch(t.type){case"GET_MARKETS":return Object(l.a)(Object(l.a)({},e),{},{marketsLoaded:!1});case"GET_MARKETS_SUC":return Object(l.a)(Object(l.a)({},e),{},{marketsLoaded:!0,markets:t.markets,marketsList:t.markets});case"GET_MARKETS_FAIL":return Object(l.a)(Object(l.a)({},e),{},{marketsLoaded:!1});case"UPDATE_MARKET":return t.realTimeData?Object(l.a)(Object(l.a)({},e),{},{markets:e.markets.map((function(e){return e.market===t.realTimeData.code?Object(l.a)(Object(l.a)(Object(l.a)({},e),t.realTimeData),{},{loaded:!0}):e}))}):e;case"UPDATE_ORDERBOOK":return t.realTimeData?Object(l.a)(Object(l.a)({},e),{},{markets:e.markets.map((function(e){return e.market===t.realTimeData.code?Object(l.a)(Object(l.a)({},e),{},{orderBook:t.realTimeData}):e}))}):e;case"UPDATE_TRADE":return t.realTimeData?Object(l.a)(Object(l.a)({},e),{},{markets:e.markets.map((function(e){return e.market===t.realTimeData.code?Object(l.a)(Object(l.a)({},e),{},{trade:t.realTimeData}):e}))}):e;default:return Object(l.a)(Object(l.a)({},e),{},{markets:"test"})}}var d=r.a.createContext(null),u=r.a.createContext(null),p={marketsLoaded:!1,markets:[],nowLooking:""};function m(e){var t=e.children,c=Object(n.useReducer)(j,p),r=Object(o.a)(c,2),s=r[0],i=r[1];return Object(a.jsx)(d.Provider,{value:s,children:Object(a.jsx)(u.Provider,{value:i,children:t})})}var b=function(){var e=Object(n.useContext)(d);if(!e)throw new Error("State not found");return e},h=function(){var e=Object(n.useContext)(u);if(!e)throw new Error("dispatch not found");return e};function O(e,t){switch(t.type){case"GET_MARKETS":return Object(l.a)(Object(l.a)({},e),{},{marketsLoaded:!1});default:return{}}}var x=r.a.createContext(null),f=r.a.createContext(null),v={money:"10000"};function k(e){var t=e.children,c=Object(n.useReducer)(O,v),r=Object(o.a)(c,2),s=r[0],i=r[1];return Object(a.jsx)(x.Provider,{value:s,children:Object(a.jsx)(f.Provider,{value:i,children:t})})}var g=c(30),N=c(5),_=c(9),T=c.n(_),E=c(31),w=c(52),D=c.n(w),C=function(){var e=Object(E.a)(T.a.mark((function e(){var t,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://api.upbit.com/v1/market/all?isDetails=true");case 2:return t=e.sent,c=t.data.filter((function(e){return e.market.includes("KRW-")})),e.abrupt("return",c.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{loaded:!1})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(E.a)(T.a.mark((function e(t,c,a,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WebSocket("wss://api.upbit.com/websocket/v1"),r=c.map((function(e){return'"'.concat(e.market,'"')})),t.onopen=function(){var e='[{"ticket":"test"},{"type":"ticker","codes":['.concat(r,"]}]");t.send(e)},t.onmessage=function(){var e=Object(E.a)(T.a.mark((function e(t){var c,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Response(t.data).text();case 2:c=e.sent,"ticker"===(a=JSON.parse(c)).type&&n({type:"UPDATE_MARKET",realTimeData:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 4:case"end":return e.stop()}}),e)})));return function(t,c,a,n){return e.apply(this,arguments)}}(),L=function(){var e;return{open:function(t,c){try{(e=new WebSocket("wss://api.upbit.com/websocket/v1")).onopen=function(){var c='[{"ticket":"asdlkfjasdljk"},{"type":"trade","codes":["'.concat(t,'"]},{"type":"orderbook","codes":["').concat(t,'"]}]');e.send(c)},e.onmessage=function(){var e=Object(E.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Response(t.data).text();case 2:a=e.sent,n=JSON.parse(a),console.log(n),"orderbook"===n.type&&c({type:"UPDATE_ORDERBOOK",realTimeData:n}),"trade"===n.type&&c({type:"UPDATE_TRADE",realTimeData:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}catch(a){console.log(a)}},close:function(){e&&e.close()}}}(),A=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""},R=function(e){return e?(100*e).toFixed(2):""};c(463);var S=function(){return Object(a.jsxs)("div",{className:"nav",children:[Object(a.jsxs)(g.b,{className:"link",to:"/",children:[Object(a.jsx)("i",{className:"fas fa-home"}),Object(a.jsx)("p",{children:"Home"})]}),Object(a.jsxs)(g.b,{className:"link",to:"/order/BTC",children:[Object(a.jsx)("i",{className:"fas fa-file-invoice-dollar"}),Object(a.jsx)("p",{children:"Order"})]}),Object(a.jsxs)(g.b,{className:"link",to:"/chart/BTC",children:[Object(a.jsx)("i",{className:"fas fa-chart-line"}),Object(a.jsx)("p",{children:"Chart"})]})]})};c(468),c(469);var F=function(e){var t=e.info,c=Object(n.useRef)();return Object(n.useEffect)((function(){})),Object(a.jsx)("div",{className:"CoinBlock",children:Object(a.jsx)("div",{className:"CoinBlock".concat(t.change),ref:c,id:"cb",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("img",{className:"coinImg",src:"https://static.upbit.com/logos/".concat(t.market.split("-")[1],".png")}),Object(a.jsx)("span",{className:"koreanName",children:t.korean_name}),Object(a.jsx)("span",{className:"englishName",children:t.market.split("-")[1]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"tradePrice",children:A(t.trade_price)}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{className:"changePrice",children:["RISE"===t.change?"\u25b2":"","FALL"===t.change?"\u25bc":"","EVEN"===t.change?"0":"",A(t.change_price)]}),Object(a.jsxs)("span",{className:"changePercent",children:["RISE"===t.change?"+":"","FALL"===t.change?"-":"",R(t.change_rate),"%"]})]})]})]})})})};var U=function(e){var t=e.sortBy,c=b();return Object(a.jsx)("div",{className:"CoinBlockList",children:P(t,c).map((function(e,t){return Object(a.jsx)(F,{info:e},t)}))})},P=function(e,t){return"trade_price"===e?t.markets.sort((function(e,t){return t.acc_trade_price_24h-e.acc_trade_price_24h})).slice(0,5):"RISE"===e?t.markets.sort((function(e,t){var c=e.change_rate,a=t.change_rate;return"FALL"===e.change&&(c=-c),"FALL"===t.change&&(a=-a),a-c})).slice(0,5):"FALL"===e?t.markets.sort((function(e,t){var c=e.change_rate,a=t.change_rate;return"FALL"===e.change&&(c=-c),"FALL"===t.change&&(a=-a),c-a})).slice(0,5):t.markets};c(470);var B=function(){return Object(a.jsxs)("div",{className:"Home",children:[Object(a.jsx)("h1",{children:"Home"}),Object(a.jsx)("div",{className:"Main",children:"main"}),Object(a.jsx)("h1",{children:"\uac70\ub798\ub300\uae08 \uc0c1\uc704"}),Object(a.jsx)("h1",{children:"\uc0c1\uc2b9\ub960 \uc0c1\uc704"}),Object(a.jsx)("h1",{children:"\ud558\ub77d\ub960 \uc0c1\uc704"}),Object(a.jsx)(U,{sortBy:"trade_price"}),Object(a.jsx)(U,{sortBy:"RISE"}),Object(a.jsx)(U,{sortBy:"FALL"})]})};c(471);var K=function(e){var t=e.info,c=Object(n.useRef)();return Object(n.useEffect)((function(){})),Object(a.jsx)("div",{className:"CoinDetail",children:Object(a.jsx)("div",{className:"CoinDetail".concat(t.change),ref:c,id:"cd",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("div",{className:"mainContent",children:[Object(a.jsx)("img",{className:"coinImg",src:"https://static.upbit.com/logos/".concat(t.market.split("-")[1],".png")}),Object(a.jsx)("span",{className:"koreanName",children:t.korean_name}),Object(a.jsx)("span",{className:"englishName",children:t.market.split("-")[1]}),Object(a.jsx)("span",{className:"englishFullName",children:t.english_name}),Object(a.jsx)("span",{className:"tradePrice",children:A(t.trade_price)}),Object(a.jsxs)("span",{className:"changePrice",children:["RISE"===t.change?"\u25b2":"","FALL"===t.change?"\u25bc":"","EVEN"===t.change?"0":"",A(t.change_price)]}),Object(a.jsxs)("span",{className:"changePercent",children:["RISE"===t.change?"+":"","FALL"===t.change?"-":"",R(t.change_rate),"%"]})]}),Object(a.jsxs)("div",{className:"detailContent",children:[Object(a.jsx)("span",{className:"detailTitle",children:"OPEN"}),Object(a.jsx)("span",{className:"detailDescription",children:t.opening_price}),Object(a.jsx)("span",{className:"detailTitle",children:"PREV CLOSE"}),Object(a.jsx)("span",{className:"detailDescription",children:t.prev_closing_price}),Object(a.jsx)("span",{className:"detailTitle",children:"HIGH"}),Object(a.jsx)("span",{className:"detailDescription",children:t.high_price}),Object(a.jsx)("span",{className:"detailTitle",children:"LOW"}),Object(a.jsx)("span",{className:"detailDescription",children:t.low_price}),Object(a.jsx)("span",{className:"detailTitle",children:"24H VOLUME(WON)"}),Object(a.jsx)("span",{className:"detailDescription",children:t.acc_trade_price.toFixed(2)}),Object(a.jsx)("span",{className:"detailTitle",children:"24H VOLUME(EA)"}),Object(a.jsx)("span",{className:"detailDescription",children:t.acc_trade_volume.toFixed(2)}),Object(a.jsx)("span",{className:"detailTitle",children:"52 WEEK HIGH"}),Object(a.jsx)("span",{className:"detailDescription",children:t.highest_52_week_price}),Object(a.jsx)("span",{className:"detailTitle",children:"52 WEEK LOW"}),Object(a.jsx)("span",{className:"detailDescription",children:t.lowest_52_week_price})]})]})})})};var M=function(e){var t=e.props,c=t.type,n=t.price,r=t.size;return"bid"===c?Object(a.jsxs)("div",{className:"OrderPriceBlock",id:c,children:[Object(a.jsx)("div",{className:"askSize"}),Object(a.jsx)("div",{className:"price",children:A(n)}),Object(a.jsx)("div",{className:"bidSize",children:r.toFixed(2)})]}):Object(a.jsxs)("div",{className:"OrderPriceBlock",id:c,children:[Object(a.jsx)("div",{className:"askSize",children:r.toFixed(2)}),Object(a.jsx)("div",{className:"price",children:A(n)}),Object(a.jsx)("div",{className:"bidSize"})]})};c(472);var I=function(e){var t=e.info;if(t.orderBook){var c=t.orderBook.orderbook_units.map((function(e){return{type:"bid",price:e.bid_price,size:e.bid_size}})),n=t.orderBook.orderbook_units.map((function(e){return{type:"ask",price:e.ask_price,size:e.ask_size}})).reverse();return Object(a.jsxs)("div",{className:"OrderBook",children:[Object(a.jsxs)("div",{className:"OrderPriceBlockDiscription",children:[Object(a.jsx)("p",{children:"\ub9e4\ub3c4"}),Object(a.jsx)("p",{children:"\ud638\uac00"}),Object(a.jsx)("p",{children:"\ub9e4\uc218"})]}),n.map((function(e,t){return Object(a.jsx)(M,{props:e},t)})),c.map((function(e,t){return Object(a.jsx)(M,{props:e},t)}))]})}return Object(a.jsx)("div",{className:"OrderBook",children:"Waiting..."})};var W=function(){var e=b(),t=h(),c=Object(N.f)().id,r=e.markets.find((function(e){return e.market.split("-")[1]===c}));return Object(n.useEffect)((function(){return console.log(r),r&&L.open(r.market,t),function(){L.close()}}),[c]),Object(a.jsxs)("div",{className:"Order",children:[Object(a.jsx)("h1",{children:"Order"}),void 0===r&&Object(a.jsxs)("h2",{children:["Not Found Coin ",c]}),void 0!==r&&r.loaded&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(K,{info:r}),Object(a.jsx)(I,{info:r})]})]})},H=c(148),z=c.n(H);var G=function(){var e=Object(n.useState)([{}]),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)([1,0]),i=Object(o.a)(s,2),l=i[0],j=i[1],d=b(),u=(h(),Object(N.f)().id),p=d.markets.find((function(e){return e.market.split("-")[1]===u})),m={chart:{type:"candlestick",height:200,toolbar:{show:!1,autoSelected:"pan",tools:{zoom:!1}},events:{scrolled:function(){var e=Object(E.a)(T.a.mark((function e(t,a){var n,s,i,o,d;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=a.xaxis).min<l[0])){e.next=10;break}return s=new Date(l[1]),i=s.getUTCHours()<10?"https://api.upbit.com/v1/candles/minutes/60?market=KRW-".concat(u,"&count=").concat(l[0]-n.min,"&to=").concat(s.getUTCFullYear(),"-").concat(s.getUTCMonth()+1,"-").concat(s.getUTCDate()," 0").concat(s.getUTCHours(),":").concat(s.getUTCMinutes(),":").concat(s.getUTCSeconds()):"https://api.upbit.com/v1/candles/minutes/60?market=KRW-".concat(u,"&count=").concat(l[0]-n.min,"&to=").concat(s.getUTCFullYear(),"-").concat(s.getUTCMonth()+1,"-").concat(s.getUTCDate()," ").concat(s.getUTCHours(),":").concat(s.getUTCMinutes(),":").concat(s.getUTCSeconds()),e.next=6,D.a.get(i);case 6:o=e.sent,d=o.data.map((function(e){return{x:new Date(e.timestamp),y:[e.opening_price,e.high_price,e.low_price,e.trade_price]}})).reverse(),j([n.min<l[0]?n.min:l[0],o.data[o.data.length-1].timestamp]),r([{data:d.concat(c[0].data)}]);case 10:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}}};return Object(n.useEffect)(Object(E.a)(T.a.mark((function e(){var t,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://api.upbit.com/v1/candles/minutes/60?market=KRW-".concat(u,"&count=40"));case 2:t=e.sent,c=t.data.map((function(e){return{x:new Date(e.timestamp),y:[e.opening_price,e.high_price,e.low_price,e.trade_price],timestamp:e.timestamp}})).reverse(),r([{data:c}]),j([1,c[0].timestamp]);case 6:case"end":return e.stop()}}),e)}))),[u]),Object(a.jsxs)("div",{className:"ChartPage",children:[Object(a.jsxs)("h1",{children:["Chart - ",u]}),Object(a.jsx)("h2",{children:l[1]}),void 0===p&&Object(a.jsxs)("h2",{children:["Not Found Coin ",u]}),p&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(z.a,{options:m,series:c,type:"candlestick",width:1e3})})]})};var V=function(){var e=b(),t=h();return Object(n.useEffect)((function(){var c;t({type:"GET_MARKETS"});try{C().then((function(e){return t({type:"GET_MARKETS_SUC",markets:e}),e})).then((function(a){t({type:"UPDATE_MARKET"}),y(c,a,e,t)}))}catch(a){console.log(a),t({type:"GET_MARKETS_FAIL"})}return function(){c}}),[t]),Object(a.jsxs)("div",{className:"CoinTrade",children:[Object(a.jsx)("div",{className:"Screen"}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(S,{}),Object(a.jsx)("div",{className:"contents",children:Object(a.jsxs)(N.c,{children:[Object(a.jsx)(N.a,{path:"/",exact:!0,component:B}),Object(a.jsx)(N.a,{path:"/order/:id",exact:!0,component:W}),Object(a.jsx)(N.a,{path:"/chart/:id",exact:!0,component:G}),Object(a.jsx)(N.a,{path:"/setting",exact:!0,component:B}),Object(a.jsx)(N.a,{path:"/about",exact:!0,component:B}),Object(a.jsx)(N.a,{path:"/*",exact:!0,children:"Wrong page"})]})})]})]})};var J=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(k,{children:Object(a.jsx)(m,{children:Object(a.jsx)(V,{})})})})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(J,{})}),document.getElementById("root"))}},[[474,1,2]]]);
//# sourceMappingURL=main.2061c88d.chunk.js.map
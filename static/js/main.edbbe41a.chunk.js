(this.webpackJsonpcointrade=this.webpackJsonpcointrade||[]).push([[0],{138:function(e,t,c){},167:function(e,t){},169:function(e,t){},180:function(e,t){},182:function(e,t){},209:function(e,t){},211:function(e,t){},212:function(e,t){},217:function(e,t){},219:function(e,t){},238:function(e,t){},250:function(e,t){},253:function(e,t){},279:function(e,t,c){"use strict";c.r(t),c.d(t,"store",(function(){return Z}));var n=c(1),s=c.n(n),a=c(43),r=c.n(a),i=(c(138),c(16)),o=c(15),l=c.n(o),u=c(29),d=c(14),j=c(12),m=c(0);function b(e){e.market,e.setMarket;return Object(m.jsxs)("div",{className:"Coin",children:[Object(m.jsx)("div",{className:"ContentTitle",children:Object(m.jsx)("h1",{children:"Coin"})}),Object(m.jsx)("div",{className:"Content"})]})}var f=c(72),h=c.n(f),v="Coin/SET_BASIC_MARKET",p="Coin/SET_SIMPLE_MARKET",O="Coin/SET_REAL_MARKET",x=function(e){return{type:v,payload:e}},A=function(e){return{type:p,payload:e}},y=function(e){return{type:O,payload:e}},g=new Map;var N=function(){var e=Object(u.a)(l.a.mark((function e(){var t,c,n,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.upbit.com/v1/market/all");case 2:return t=e.sent,c=t.data,n=c.filter((function(e){return e.market.includes("KRW-")})),Z.dispatch(x(n)),e.next=8,h.a.get("https://api.upbit.com/v1/ticker?markets="+n.map((function(e){return e.market})).join());case 8:return s=e.sent,a=s.data,Z.dispatch(A(a.map((function(e){return"FALL"===e.change&&(e.change_rate=-e.change_rate,e.change_price=-e.change_price),e})))),e.abrupt("return",{marketListString:n.map((function(e){return'"'.concat(e.market,'"')})).join(),marketList:n.map((function(e){return"".concat(e.market)}))});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new WebSocket("wss://api.upbit.com/websocket/v1")).onopen=function(){var e='[{"ticket":"test"},{"type":"ticker","codes":['.concat(t,"]}]");c.send(e)},c.onmessage=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Response(t.data).text();case 2:c=e.sent,"FALL"===(n=JSON.parse(c)).change&&(n.change_rate=-n.change_rate,n.change_price=-n.change_price),Z.dispatch(y(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return Number(e.toFixed(2)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},L=function(e){return Number((100*e).toFixed(2)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%"},C=s.a.memo((function(e){var t=e.coin,c=t.market,s=t.change,a=t.english_name,r=t.trade_price,i=t.change_price,o=t.change_rate,l=Object(n.useRef)(null),u=Object(j.c)((function(e){return e.Coin}));return Object(n.useEffect)((function(){l.current&&(l.current.style.color="RISE"===s?"#FF4B4B":"FALL"===s?"#3555FF":"#000000")}),[u,s]),Object(m.jsxs)("div",{className:"CoinBlock",children:[Object(m.jsx)("img",{alt:"CoinImage",className:"CoinBlockImg",src:"https://static.upbit.com/logos/".concat(c.substring(4),".png")}),Object(m.jsxs)("div",{className:"Info",children:[Object(m.jsx)("p",{className:"CoinName",children:a}),Object(m.jsx)("p",{className:"CoinTicker",children:c.substring(4)})]}),Object(m.jsxs)("div",{className:"Price",ref:l,children:[Object(m.jsx)("p",{className:"CoinPrice",children:S(r)}),Object(m.jsxs)("p",{className:"CoinChangePrice",children:["RISE"===s&&"+",S(i)]}),Object(m.jsxs)("p",{className:"CoinChangeRate",children:["RISE"===s&&"+",L(o)]})]})]})})),M=s.a.memo((function(e){var t=e.sortType,c=Object(j.c)((function(e){return e.Coin})),s=Object(n.useState)(""),a=Object(d.a)(s,2),r=a[0],i=a[1],o=function(e,t){var c;c=0===e?t.sort((function(e,t){return t.acc_trade_price_24h-e.acc_trade_price_24h})):1===e?t.sort((function(e,t){return t.change_rate-e.change_rate})):2===e?t.sort((function(e,t){return e.change_rate-t.change_rate})):t.sort((function(e,t){return e.english_name<t.english_name?-1:e.english_name>t.english_name?1:0}));return c}(t,Array.from(c.values()));return Object(n.useEffect)((function(){var e;null===(e=document.querySelector(".MarketListArea"))||void 0===e||e.classList.remove("fadeAway")}),[]),Object(m.jsxs)("div",{className:"MarketListArea fadeAway",children:[3===t&&Object(m.jsx)("input",{className:"MarketSearch",value:r,placeholder:"Search Coin",onChange:function(e){var t=e.target.value;i(t)}}),Object(m.jsxs)("div",{className:"MarketList",children:[t<3&&o.map((function(e){return Object(m.jsx)(C,{coin:e},e.market)})),3===t&&o.filter((function(e){var t=r.toLowerCase();return e.english_name.toLowerCase().includes(t)||e.korean_name.includes(t)||e.market.substr(4).toLowerCase().includes(t)})).map((function(e){return Object(m.jsx)(C,{coin:e},e.market)}))]})]})}));function _(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),c=t[0],s=t[1],a=function(e){var t;null===(t=document.querySelector(".MarketListArea"))||void 0===t||t.classList.add("fadeAway"),setTimeout((function(){var t;s(e),null===(t=document.querySelector(".MarketListArea"))||void 0===t||t.classList.remove("fadeAway")}),250)};return Object(m.jsxs)("div",{className:"Market",children:[Object(m.jsxs)("div",{className:"MarketSorter",children:[Object(m.jsx)("button",{onClick:function(){var e;0!==c&&(document.querySelectorAll(".MarketSorter p").forEach((function(e){e.classList.add("inActive")})),null===(e=document.querySelector(".VolumeP"))||void 0===e||e.classList.remove("inActive"),a(0))},children:Object(m.jsx)("p",{className:"VolumeP",children:"Volume"})}),Object(m.jsx)("button",{onClick:function(){var e;1!==c&&(document.querySelectorAll(".MarketSorter p").forEach((function(e){e.classList.add("inActive")})),null===(e=document.querySelector(".RiseP"))||void 0===e||e.classList.remove("inActive"),a(1))},children:Object(m.jsx)("p",{className:"RiseP inActive",children:"Rise"})}),Object(m.jsx)("button",{onClick:function(){var e;2!==c&&(document.querySelectorAll(".MarketSorter p").forEach((function(e){e.classList.add("inActive")})),null===(e=document.querySelector(".FallP"))||void 0===e||e.classList.remove("inActive"),a(2))},children:Object(m.jsx)("p",{className:"FallP inActive",children:"Fall"})}),Object(m.jsx)("button",{onClick:function(){var e;3!==c&&(document.querySelectorAll(".MarketSorter p").forEach((function(e){e.classList.add("inActive")})),null===(e=document.querySelector(".AllP"))||void 0===e||e.classList.remove("inActive"),a(3))},children:Object(m.jsx)("p",{className:"AllP inActive",children:"Search"})})]}),Object(m.jsx)(M,{sortType:c})]})}var w="User/INITIAL_UPDATE",E="User/BUY_COIN",q=function(e){return{type:w,payload:e}},R={startValue:1e6,won:1e6,assetsList:[{market:"KRW-MTL",quantity:13,averagePrice:100}]};var T=s.a.memo((function(e){var t=e.coin,c=t.market,n=t.english_name,s=t.trade_price,a=t.change,r=e.asset,i=r.quantity,o=r.averagePrice,l=i*s,u=i*o,d=l-u,j=d>0?"#FF4B4B":d<0?"#3555FF":"#000000",b="RISE"===a?"#FF4B4B":"FALL"===a?"#3555FF":"#000000";return Object(m.jsxs)("div",{className:"AssetBlock",children:[Object(m.jsxs)("div",{className:"AssetBlockHeader",children:[Object(m.jsx)("img",{alt:"CoinImage",className:"AssetBlockImg",src:"https://static.upbit.com/logos/".concat(c.substring(4),".png")}),Object(m.jsxs)("div",{className:"Info",children:[Object(m.jsx)("p",{className:"AssetName",children:n}),Object(m.jsx)("p",{className:"AssetTicker",children:c.substring(4)})]}),Object(m.jsxs)("div",{className:"Summary",style:{color:j},children:[Object(m.jsx)("p",{className:"TotalPrice",children:S(l)}),Object(m.jsx)("p",{className:"Quantity",children:S(i)+" "+c.substr(4)})]})]}),Object(m.jsxs)("div",{className:"AssetBlockBody",style:{color:j},children:[Object(m.jsx)("p",{className:"Label",children:"P&L"}),Object(m.jsxs)("p",{className:"Value",children:[d>0&&"+",S(d)]}),Object(m.jsx)("p",{className:"Label",children:"Last"}),Object(m.jsx)("p",{className:"Value",style:{color:b},children:S(s)}),Object(m.jsx)("p",{className:"Label",children:"P&L%"}),Object(m.jsxs)("p",{className:"Value",children:[d>0&&"+",L(d/u)]}),Object(m.jsx)("p",{className:"Label",children:"Avg"}),Object(m.jsx)("p",{className:"Value Avg",children:S(o)})]})]})}));function F(){var e=Object(j.c)((function(e){return e.User})),t=Object(j.c)((function(e){return e.Coin})),c=Object(j.b)(),s=Object(n.useRef)(null),a=e.won+e.assetsList.map((function(e){return e.quantity*t.get(e.market).trade_price})).reduce((function(e,t){return e+t}),0),r=a-e.startValue,i=r/e.startValue;return Object(n.useEffect)((function(){s.current&&(s.current.style.color=r>0?"#FF4B4B":r<0?"#3555FF":"#000000")})),Object(m.jsxs)("div",{className:"MyAsset",children:[Object(m.jsxs)("div",{className:"MyAssetValueArea",children:[Object(m.jsxs)("div",{className:"MyAssetValueAreaHeader",children:[Object(m.jsx)("p",{className:"MyAssetValueLabel",children:"My Asset Value"}),Object(m.jsx)("p",{className:"MyAssetReset",onClick:function(){var e=Math.random().toString(10).substr(2,4);e===prompt("If you want to RESET ASSET, enter ".concat(e,"."))&&(c(q(R)),U(R),alert("Asset has been RESET!"))},children:"\ud83d\udd04Reset Asset"})]}),Object(m.jsxs)("div",{className:"MyAssetValueAreaBody",ref:s,children:[Object(m.jsx)("p",{className:"MyAssetValue",children:S(a)}),Object(m.jsxs)("div",{className:"MyAssetValueInfo",children:[Object(m.jsxs)("p",{className:"MyAssetChangePrice",children:[r>0&&"+",S(r)]}),Object(m.jsxs)("p",{className:"MyAssetChangeRate",children:[r>0&&"+",L(i)]})]})]})]}),Object(m.jsxs)("div",{className:"MyAssetListArea",children:[Object(m.jsx)("p",{className:"MyAssetListLabel",children:"My Asset List"}),Object(m.jsxs)("div",{className:"MyAssetList",children:[Boolean(e.won)&&Object(m.jsxs)("div",{className:"Won",children:[Object(m.jsx)("img",{className:"WonImg",alt:"SimSaImDang",src:"https://www.choicenews.co.kr/news/photo/201904/49676_27900_144.jpg"}),Object(m.jsxs)("div",{className:"Info",children:[Object(m.jsx)("p",{className:"WonLabel",children:"Korean Won"}),Object(m.jsx)("p",{className:"WonTicker",children:"KRW"})]}),Object(m.jsx)("p",{className:"WonPrice",children:S(e.won)})]}),e.assetsList.sort((function(e,c){return e.quantity*t.get(e.market).trade_price-c.quantity*t.get(c.market).trade_price})).map((function(e){return Object(m.jsx)(T,{coin:t.get(e.market),asset:e},e.market)}))]})]})]})}function I(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),c=t[0],s=t[1],a=function(e){var t;null===(t=document.querySelector(".HomeContent"))||void 0===t||t.classList.add("fadeAway"),setTimeout((function(){var t;s(e),null===(t=document.querySelector(".HomeContent"))||void 0===t||t.classList.remove("fadeAway")}),250)};return Object(n.useEffect)((function(){var e;null===(e=document.querySelector(".HomeContent"))||void 0===e||e.classList.remove("fadeAway")}),[]),Object(m.jsxs)("div",{className:"Home",children:[Object(m.jsx)("div",{className:"ContentTitle",children:Object(m.jsx)("h1",{children:"Home"})}),Object(m.jsxs)("div",{className:"Content",children:[Object(m.jsxs)("div",{className:"HomeMenu",children:[Object(m.jsx)("button",{onClick:function(){var e;c||(document.querySelectorAll(".HomeMenu p").forEach((function(e){e.classList.add("inActive")})),null===(e=document.querySelector(".MarketP"))||void 0===e||e.classList.remove("inActive"),a(!0))},children:Object(m.jsx)("p",{className:"MarketP",children:"Market"})}),Object(m.jsx)("button",{onClick:function(){var e;c&&(document.querySelectorAll(".HomeMenu p").forEach((function(e){e.classList.add("inActive")})),null===(e=document.querySelector(".MyAssetP"))||void 0===e||e.classList.remove("inActive"),a(!1))},children:Object(m.jsx)("p",{className:"MyAssetP inActive",children:"My Asset"})})]}),Object(m.jsxs)("div",{className:"HomeContent fadeAway",children:[c&&Object(m.jsx)(_,{}),!c&&Object(m.jsx)(F,{})]})]})]})}function P(e){var t=e.menu,c=e.setMenu,n=function(e){var t;null===(t=document.querySelector(".ContentWrap"))||void 0===t||t.classList.add("fadeAway"),setTimeout((function(){var t;c(e),null===(t=document.querySelector(".ContentWrap"))||void 0===t||t.classList.remove("fadeAway")}),250)};return Object(m.jsx)("div",{className:"Navigation",children:Object(m.jsxs)("div",{className:"Menu",children:[Object(m.jsxs)("button",{className:"m-button Home",onClick:function(){var e;0!==t&&(document.querySelectorAll(".m-button").forEach((function(e){e.classList.add("inActive")})),null===(e=document.querySelector(".m-button.Home"))||void 0===e||e.classList.remove("inActive"),n(0))},children:[Object(m.jsx)("i",{className:"fas fa-home"}),Object(m.jsx)("p",{children:"Home"})]}),Object(m.jsxs)("button",{className:"m-button Coin inActive",onClick:function(){var e;1!==t&&(document.querySelectorAll(".m-button").forEach((function(e){e.classList.add("inActive")})),null===(e=document.querySelector(".m-button.Coin"))||void 0===e||e.classList.remove("inActive"),n(1))},children:[Object(m.jsx)("i",{className:"fas fa-chart-line"}),Object(m.jsx)("p",{children:"Coin"})]})]})})}var B=c(44),V=c.n(B),W="2ZLdKAbltUtnlA8Y8gdqeofTISAZ6ekD";var H=function(){var e=Object(j.b)(),t=Object(n.useRef)(null),c=Object(n.useState)(!1),s=Object(d.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)("KRW-BTC"),o=Object(d.a)(i,2),f=o[0],h=o[1],v=Object(n.useState)(0),p=Object(d.a)(v,2),O=p[0],x=p[1];return Object(n.useEffect)((function(){return Object(u.a)(l.a.mark((function c(){var n,s,a;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,N();case 2:return n=c.sent,s=n.marketList,a=n.marketListString,c.next=7,k(a);case 7:t.current=c.sent,K(e,s),r(!0);case 10:case"end":return c.stop()}}),c)})))(),function(){t.current&&t.current.close()}}),[e]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("div",{className:"ContentWrap",children:[a&&0===O&&Object(m.jsx)(I,{}),a&&1===O&&Object(m.jsx)(b,{market:f,setMarket:h})]}),Object(m.jsx)(P,{menu:O,setMenu:x})]})},K=function(e,t){var c,n;try{c=null==(n=localStorage.getItem("userData"))?"":V.a.AES.decrypt(n,W).toString(V.a.enc.Utf8)}catch(a){c=""}if(c){var s=JSON.parse(c);e(q(Object(i.a)(Object(i.a)({},s),{},{assetsList:s.assetsList.filter((function(e){return t.includes(e.market)}))})))}else U(R)},U=function(e){localStorage.setItem("userData",function(e){return V.a.AES.encrypt(e,W).toString()}(JSON.stringify(e)))},D=c(22),J=Object(D.combineReducers)({Coin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,c=new Map;switch(e.forEach((function(e,t){c.set(t,e)})),t.type){case v:case p:return t.payload.forEach((function(t){c.set(t.market,Object(i.a)(Object(i.a)({},e.get(t.market)),t))})),c;case O:return c.set(t.payload.code,Object(i.a)(Object(i.a)({},e.get(t.payload.code)),t.payload)),c;default:return e}},User:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.payload;case E:return console.log(t.payload),R;default:return e}}}),Y=c(133),Z=Object(D.createStore)(J,Object(Y.composeWithDevTools)());r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(j.a,{store:Z,children:Object(m.jsx)(H,{})})}),document.getElementById("root"))}},[[279,1,2]]]);
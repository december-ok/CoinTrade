(this.webpackJsonpcointrade=this.webpackJsonpcointrade||[]).push([[0],{190:function(e,t,c){},501:function(e,t,c){},506:function(e,t,c){},507:function(e,t,c){},508:function(e,t,c){},509:function(e,t,c){},510:function(e,t,c){},605:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(2),r=c.n(n),s=c(25),i=c.n(s),o=(c(190),c(31)),l=c(4);c(191);function d(e,t){switch(t.type){case"GET_MARKETS":return Object(l.a)(Object(l.a)({},e),{},{marketsLoaded:!1});case"GET_MARKETS_SUC":return Object(l.a)(Object(l.a)({},e),{},{marketsLoaded:!0,markets:t.markets,marketsList:t.markets});case"GET_MARKETS_FAIL":return Object(l.a)(Object(l.a)({},e),{},{marketsLoaded:!1});case"UPDATE_MARKET":return t.realTimeData?Object(l.a)(Object(l.a)({},e),{},{markets:e.markets.map((function(e){return e.market===t.realTimeData.code?Object(l.a)(Object(l.a)(Object(l.a)({},e),t.realTimeData),{},{loaded:!0}):e}))}):e;case"UPDATE_ORDERBOOK":return t.realTimeData?Object(l.a)(Object(l.a)({},e),{},{markets:e.markets.map((function(e){return e.market===t.realTimeData.code?Object(l.a)(Object(l.a)({},e),{},{orderBook:t.realTimeData}):e}))}):e;case"UPDATE_TRADE":return t.realTimeData?Object(l.a)(Object(l.a)({},e),{},{markets:e.markets.map((function(e){return e.market===t.realTimeData.code?Object(l.a)(Object(l.a)({},e),{},{trade:t.realTimeData}):e}))}):e;default:return Object(l.a)(Object(l.a)({},e),{},{markets:"test"})}}var j=r.a.createContext(null),u=r.a.createContext(null),b={marketsLoaded:!1,markets:[],nowLooking:""};function h(e){var t=e.children,c=Object(n.useReducer)(d,b),r=Object(o.a)(c,2),s=r[0],i=r[1];return Object(a.jsx)(j.Provider,{value:s,children:Object(a.jsx)(u.Provider,{value:i,children:t})})}var O=function(){var e=Object(n.useContext)(j);if(!e)throw new Error("State not found");return e},m=function(){var e=Object(n.useContext)(u);if(!e)throw new Error("dispatch not found");return e};function p(e,t){switch(t.type){case"GET_MARKETS":return Object(l.a)(Object(l.a)({},e),{},{marketsLoaded:!1});default:return{}}}var x=r.a.createContext(null),f=r.a.createContext(null),v={money:"10000"};function k(e){var t=e.children,c=Object(n.useReducer)(p,v),r=Object(o.a)(c,2),s=r[0],i=r[1];return Object(a.jsx)(x.Provider,{value:s,children:Object(a.jsx)(f.Provider,{value:i,children:t})})}var g=c(24),N=c(5),_=c(18),E=c.n(_),T=c(40),L=c(75),y=c.n(L),w=function(){var e=Object(T.a)(E.a.mark((function e(){var t,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://api.upbit.com/v1/market/all?isDetails=true");case 2:return t=e.sent,c=t.data.filter((function(e){return e.market.includes("KRW-")})),e.abrupt("return",c.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{loaded:!1})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(T.a)(E.a.mark((function e(t,c,a,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WebSocket("wss://api.upbit.com/websocket/v1"),r=c.map((function(e){return'"'.concat(e.market,'"')})),t.onopen=function(){var e='[{"ticket":"test"},{"type":"ticker","codes":['.concat(r,"]}]");t.send(e)},t.onmessage=function(){var e=Object(T.a)(E.a.mark((function e(t){var c,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Response(t.data).text();case 2:c=e.sent,"ticker"===(a=JSON.parse(c)).type&&n({type:"UPDATE_MARKET",realTimeData:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 4:case"end":return e.stop()}}),e)})));return function(t,c,a,n){return e.apply(this,arguments)}}(),R=function(){var e;return{open:function(t,c){try{(e=new WebSocket("wss://api.upbit.com/websocket/v1")).onopen=function(){var c='[{"ticket":"asdlkfjasdljk"},{"type":"trade","codes":["'.concat(t,'"]},{"type":"orderbook","codes":["').concat(t,'"]}]');e.send(c)},e.onmessage=function(){var e=Object(T.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Response(t.data).text();case 2:a=e.sent,n=JSON.parse(a),console.log(n),"orderbook"===n.type&&c({type:"UPDATE_ORDERBOOK",realTimeData:n}),"trade"===n.type&&c({type:"UPDATE_TRADE",realTimeData:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}catch(a){console.log(a)}},close:function(){e&&e.close()}}}(),D=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""},S=function(e){return e?(100*e).toFixed(2):""};c(501);var C=function(){return Object(a.jsxs)("div",{className:"nav",children:[Object(a.jsxs)(g.b,{className:"link",to:"/",children:[Object(a.jsx)("i",{className:"fas fa-home"}),Object(a.jsx)("p",{children:"Home"})]}),Object(a.jsxs)(g.b,{className:"link",to:"/order/BTC",children:[Object(a.jsx)("i",{className:"fas fa-file-invoice-dollar"}),Object(a.jsx)("p",{children:"Order"})]}),Object(a.jsxs)(g.b,{className:"link",to:"/chart/BTC",children:[Object(a.jsx)("i",{className:"fas fa-chart-line"}),Object(a.jsx)("p",{children:"Chart"})]}),Object(a.jsxs)(g.b,{className:"link",to:"/about",children:[Object(a.jsx)("i",{className:"far fa-smile-wink"}),Object(a.jsx)("p",{children:"About"})]})]})};c(506),c(507);var B=function(e){var t=e.info,c=Object(n.useRef)(),r=Object(n.useRef)(),s=Object(n.useState)(!0),i=Object(o.a)(s,2),l=i[0],d=i[1];return Object(n.useEffect)((function(){var e,c=r.current,a=(r.current.parentNode,!0);t.code&&(e=t.code.split("-")[1]);var n={x:0,y:0};e&&a&&(a=!1,c.addEventListener("mousedown",(function(e){n={x:e.clientX,y:e.clientY}})),c.addEventListener("mouseup",(function(t){t.clientX===n.x&&t.clientY===n.y&&("https://december-ok.github.io"===window.location.origin?window.location.href=window.location.origin+"/CoinTrade/#/order/".concat(e):window.location.href=window.location.origin+"#/order/".concat(e))})))}),[t.code]),Object(n.useEffect)((function(){l?d(!1):(c.current.classList.add("refreshed"),setTimeout((function(){c.current&&c.current.classList.remove("refreshed")}),1e3))}),[t.trade_price]),t.code&&t.code.split("-")[1],Object(a.jsx)("div",{className:"CoinBlock",ref:r,title:t.code?t.code.split("-")[1]:"",children:Object(a.jsx)("div",{className:"CoinBlock".concat(t.change),ref:c,id:"cb",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("img",{className:"coinImg",src:"https://static.upbit.com/logos/".concat(t.market.split("-")[1],".png")}),Object(a.jsx)("span",{className:"koreanName",children:t.korean_name}),Object(a.jsx)("span",{className:"englishName",children:t.market.split("-")[1]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"tradePrice",children:D(t.trade_price)}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{className:"changePrice",children:["RISE"===t.change?"\u25b2":"","FALL"===t.change?"\u25bc":"","EVEN"===t.change?"0":"",D(t.change_price)]}),Object(a.jsxs)("span",{className:"changePercent",children:["RISE"===t.change?"+":"","FALL"===t.change?"-":"",S(t.change_rate),"%"]})]})]})]})})})};var F=function(e){var t=e.sortBy,c=O(),r=Object(n.useRef)();return Object(n.useEffect)((function(){var e=r.current,t=!1,c={x:0,y:0},a=0;e.addEventListener("mousedown",(function(n){t=!0,c={x:n.clientX,y:n.clientY},a=e.scrollLeft})),e.addEventListener("mousemove",(function(n){if(t){var r=n.clientX-c.x;e.scrollLeft=a-r}})),e.addEventListener("mouseleave",(function(e){t=!1})),e.addEventListener("mouseup",(function(e){t=!1}))}),[]),Object(a.jsx)("div",{className:"CoinBlockList",ref:r,children:P(t,c).map((function(e,t){return Object(a.jsx)(B,{info:e},t)}))})},P=function(e,t){var c=[];return"trade_price"===e?c=t.markets.sort((function(e,t){return t.acc_trade_price_24h-e.acc_trade_price_24h})).slice(0,7):"RISE"===e?c=t.markets.sort((function(e,t){var c=e.change_rate,a=t.change_rate;return"FALL"===e.change&&(c=-c),"FALL"===t.change&&(a=-a),a-c})).slice(0,7):"FALL"===e?c=t.markets.sort((function(e,t){var c=e.change_rate,a=t.change_rate;return"FALL"===e.change&&(c=-c),"FALL"===t.change&&(a=-a),c-a})).slice(0,7):"ALL"===e?(console.log("hi"),c=t.markets.sort((function(e,t){return e.english_name>t.english_name?1:e.english_name<t.english_name?-1:0}))):c=t.markets,c};c(508);var M=function(){return Object(a.jsxs)("div",{className:"Home",children:[Object(a.jsx)("h1",{children:"Home"}),Object(a.jsx)("div",{className:"Main",children:"Real Time Crypto Currency Exchange"}),Object(a.jsx)("h4",{children:"\uac70\ub798\ub300\uae08 \uc0c1\uc704"}),Object(a.jsx)(F,{sortBy:"trade_price"}),Object(a.jsx)("h4",{children:"\uc0c1\uc2b9\ub960 \uc0c1\uc704"}),Object(a.jsx)(F,{sortBy:"RISE"}),Object(a.jsx)("h4",{children:"\ud558\ub77d\ub960 \uc0c1\uc704"}),Object(a.jsx)(F,{sortBy:"FALL"}),Object(a.jsx)("h4",{children:"\uc804\uccb4"}),Object(a.jsx)(F,{sortBy:"ALL"})]})};c(509);var z=function(e){var t=e.info,c=Object(n.useRef)();return Object(n.useEffect)((function(){})),Object(a.jsx)("div",{className:"CoinDetail",children:Object(a.jsx)("div",{className:"CoinDetail".concat(t.change),ref:c,id:"cd",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("div",{className:"mainContent",children:[Object(a.jsx)("img",{className:"coinImg",src:"https://static.upbit.com/logos/".concat(t.market.split("-")[1],".png")}),Object(a.jsx)("span",{className:"koreanName",children:t.korean_name}),Object(a.jsx)("span",{className:"englishName",children:t.market.split("-")[1]}),Object(a.jsx)("span",{className:"englishFullName",children:t.english_name}),Object(a.jsx)("span",{className:"tradePrice",children:D(t.trade_price)}),Object(a.jsxs)("span",{className:"changePrice",children:["RISE"===t.change?"\u25b2":"","FALL"===t.change?"\u25bc":"","EVEN"===t.change?"0":"",D(t.change_price)]}),Object(a.jsxs)("span",{className:"changePercent",children:["RISE"===t.change?"+":"","FALL"===t.change?"-":"",S(t.change_rate),"%"]})]}),Object(a.jsxs)("div",{className:"detailContent",children:[Object(a.jsx)("span",{className:"detailTitle",children:"OPEN"}),Object(a.jsx)("span",{className:"detailDescription",children:t.opening_price}),Object(a.jsx)("span",{className:"detailTitle",children:"PREV CLOSE"}),Object(a.jsx)("span",{className:"detailDescription",children:t.prev_closing_price}),Object(a.jsx)("span",{className:"detailTitle",children:"HIGH"}),Object(a.jsx)("span",{className:"detailDescription",children:t.high_price}),Object(a.jsx)("span",{className:"detailTitle",children:"LOW"}),Object(a.jsx)("span",{className:"detailDescription",children:t.low_price}),Object(a.jsx)("span",{className:"detailTitle",children:"24H VOLUME(WON)"}),Object(a.jsx)("span",{className:"detailDescription",children:t.acc_trade_price.toFixed(2)}),Object(a.jsx)("span",{className:"detailTitle",children:"24H VOLUME(EA)"}),Object(a.jsx)("span",{className:"detailDescription",children:t.acc_trade_volume.toFixed(2)}),Object(a.jsx)("span",{className:"detailTitle",children:"52 WEEK HIGH"}),Object(a.jsx)("span",{className:"detailDescription",children:t.highest_52_week_price}),Object(a.jsx)("span",{className:"detailTitle",children:"52 WEEK LOW"}),Object(a.jsx)("span",{className:"detailDescription",children:t.lowest_52_week_price})]})]})})})},I=c(111);var K=function(e){var t=e.props,c=e.max,n=t.type,r=t.price,s=t.size,i=(s/c*100).toFixed(2);if("bid"===n){var o={background:"linear-gradient(90deg, rgba(255,205,205,1) ".concat(i,"%, rgba(255,0,0,0) ").concat(i,"%)")};return Object(a.jsxs)("div",{className:"OrderPriceBlock",id:n,children:[Object(a.jsx)("div",{className:"askSize"}),Object(a.jsx)("div",{className:"price",children:D(r)}),Object(a.jsx)("div",{className:"bidSize",style:o,children:s.toFixed(2)})]})}var l={background:"linear-gradient(90deg, rgba(255,255,255,0) ".concat(100-i,"%, rgba(198,215,255,1) ").concat(100-i,"%)")};return Object(a.jsxs)("div",{className:"OrderPriceBlock",id:n,children:[Object(a.jsx)("div",{className:"askSize",style:l,children:s.toFixed(2)}),Object(a.jsx)("div",{className:"price",children:D(r)}),Object(a.jsx)("div",{className:"bidSize"})]})},W=c(76),H=c.n(W);c(510);var U=function(e){var t=e.info;if(t.orderBook){var c=Math.max.apply(Math,Object(I.a)(t.orderBook.orderbook_units.map((function(e){return e.ask_size}))).concat(Object(I.a)(t.orderBook.orderbook_units.map((function(e){return e.bid_size}))))),n=(t.orderBook.total_ask_size/(t.orderBook.total_ask_size+t.orderBook.total_bid_size)*100).toFixed(2),r=t.orderBook.orderbook_units.map((function(e){return{type:"bid",price:e.bid_price,size:e.bid_size}})),s=t.orderBook.orderbook_units.map((function(e){return{type:"ask",price:e.ask_price,size:e.ask_size}})).reverse();return Object(a.jsxs)("div",{className:"OrderBook",children:[Object(a.jsxs)("div",{className:"OrderPriceBlockDiscription",children:[Object(a.jsx)("p",{children:"\ub9e4\ub3c4"}),Object(a.jsx)("p",{children:"\ud638\uac00"}),Object(a.jsx)("p",{children:"\ub9e4\uc218"})]}),s.map((function(e,t){return Object(a.jsx)(K,{props:e,max:c},t)})),r.map((function(e,t){return Object(a.jsx)(K,{props:e,max:c},t)})),Object(a.jsxs)("div",{className:"total",style:{background:"linear-gradient(90deg, rgba(198,215,255,1) ".concat(n,"%, rgba(255,205,205,1) ").concat(n,"%)")},children:[Object(a.jsx)("div",{className:"totalAsk",children:t.orderBook.total_ask_size.toFixed(2)}),Object(a.jsx)("div",{className:"lastTime",children:H()("hh:mm:ss",new Date(t.orderBook.timestamp))}),Object(a.jsx)("div",{className:"totalBid",children:t.orderBook.total_bid_size.toFixed(2)})]})]})}return Object(a.jsx)("div",{className:"OrderBook",children:"Waiting..."})};var G=function(){var e=O(),t=m(),c=Object(N.f)().id,r=e.markets.find((function(e){return e.market.split("-")[1]===c})),s=r&&r.trade_price&&!0;return Object(n.useEffect)((function(){return console.log(r),r&&R.open(r.market,t),function(){R.close()}}),[c,s]),Object(a.jsxs)("div",{className:"Order",children:[Object(a.jsx)("h1",{children:"Order"}),void 0===r&&Object(a.jsxs)("h2",{children:["Not Found Coin ",c]}),void 0!==r&&r.loaded&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z,{info:r}),Object(a.jsx)(U,{info:r})]})]})},V=c(185);var J=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)([1,0]),i=Object(o.a)(s,2),l=(i[0],i[1],O()),d=(m(),Object(N.f)().id),j=l.markets.find((function(e){return e.market.split("-")[1]===d})),u=j&&j.trade_price&&!0,b=function(){var e=Object(T.a)(E.a.mark((function e(){var t,a,n,s,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://api.upbit.com/v1/candles/minutes/60?market=KRW-".concat(d,"&count=200"));case 2:t=e.sent,a=t.data.map((function(e){return{x:H.a.asString("dd / hh:mm",new Date(e.timestamp)),y:e.trade_price}})).reverse(),n=a.map((function(e){return e.x})),s=a.map((function(e){return e.y})),i=Array(200).fill(j.prev_closing_price),r({labels:n,datasets:[{label:d,borderColor:"rgba(75, 192, 192, 1)",fill:!1,pointRadius:0,lineTension:0,data:s,borderWidth:2},{label:"Previous Close",data:i,pointRadius:0,borderWidth:2,pointHitRadius:0,fill:!1,borderColor:"rgba(200, 1, 0, 1)"}]}),console.log(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j&&b()}),[d,u]),Object(a.jsxs)("div",{className:"ChartPage",children:[Object(a.jsxs)("h1",{children:["Chart - ",d]}),void 0===j&&Object(a.jsxs)("h2",{children:["Not Found Coin ",d]}),j&&Object(a.jsx)("div",{className:"ChartContainer",children:Object(a.jsx)(V.Line,{data:c,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:500}},height:400})})]})};var X=function(){return Object(a.jsxs)("div",{className:"About",children:[Object(a.jsx)("h1",{children:"About"}),Object(a.jsx)("h3",{children:"\uc815\uc6b0\ucca0\uc774 \ub9cc\ub4e4\uc5c8\uc5b4\uc694!"}),Object(a.jsx)("h3",{children:"\uc6f9 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc73c\ub85c \uc5b4\ub5a4 \uc7ac\ubc0c\uace0 \uc720\uc6a9\ud55c\uac78 \ub9cc\ub4e4 \uc218 \uc788\uc744\uae4c?"}),Object(a.jsx)("h3",{children:"\uc0ac\uc6a9(\uc0c8\ub85c \uacf5\ubd80\ud55c) \uae30\uc220"}),Object(a.jsx)("h3",{children:"-React"}),Object(a.jsx)("h5",{children:"-Hook(useState, useEffect, useReducer...)"}),Object(a.jsx)("h5",{children:"-Context API"}),Object(a.jsx)("h5",{children:"-Redux\ub97c \uc2dc\ub3c4\ud558\ub824\uace0 \uacf5\ubd80\ub294 \ud588\uc74c(\uc801\uc6a9\ub9cc \uc548\ud568) / Context API \uac00 \ud3b8\ud55c\uac70 \uac19\uc544\uc694..."}),Object(a.jsx)("h3",{children:"-Rest API"}),Object(a.jsx)("h3",{children:"-Web Socket (\ub2e4\uc74c\uc5d4 Socket.io)"}),Object(a.jsx)("h3",{children:"-Chart library(?)"}),Object(a.jsx)("h3",{children:"-CSS Animation Font"}),Object(a.jsx)("h3",{children:"-Responsive Web (Desktop/Mobile) 1024px"}),Object(a.jsx)("h3",{children:"-\uae30\ud0c0 FrontEnd \uad6c\ud604(\uc2ac\ub77c\uc774\ub4dc\ub4f1)"})]})};var Y=function(){var e=O(),t=m();return Object(n.useEffect)((function(){var c;t({type:"GET_MARKETS"});try{w().then((function(e){return t({type:"GET_MARKETS_SUC",markets:e}),e})).then((function(a){t({type:"UPDATE_MARKET"}),A(c,a,e,t)}))}catch(a){console.log(a),t({type:"GET_MARKETS_FAIL"})}return function(){c}}),[t]),Object(a.jsxs)("div",{className:"CoinTrade",children:[Object(a.jsx)("div",{className:"Screen"}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(C,{}),Object(a.jsx)("div",{className:"contents",children:Object(a.jsxs)(N.c,{children:[Object(a.jsx)(N.a,{path:"/",exact:!0,component:M}),Object(a.jsx)(N.a,{path:"/order/:id",exact:!0,component:G}),Object(a.jsx)(N.a,{path:"/chart/:id",exact:!0,component:J}),Object(a.jsx)(N.a,{path:"/setting",exact:!0,component:M}),Object(a.jsx)(N.a,{path:"/about",exact:!0,component:X}),Object(a.jsx)(N.a,{path:"/*",exact:!0,children:"Wrong page"})]})})]})]})};var q=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(k,{children:Object(a.jsx)(h,{children:Object(a.jsx)(Y,{})})})})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(q,{})}),document.getElementById("root"))}},[[605,1,2]]]);
//# sourceMappingURL=main.4f3c7d0a.chunk.js.map